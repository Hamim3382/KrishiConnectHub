# Krishi Connect Hub

**Krishi Connect Hub** is a modern, full-stack web application designed to bridge the gap between farmers and buyers. It provides a digital marketplace for agricultural products and integrates an AI-powered advisory service to offer farmers intelligent, data-driven suggestions for their crops.

This project is built with Spring Boot, Java, and Thymeleaf, featuring a clean, modular architecture that is easy to understand and extend.

---

### Key Features

*   **Dual User Roles**: Separate registration and dashboards for **Farmers** and **Buyers**.
*   **Product Marketplace**: Farmers can list their products, and buyers can browse and purchase them directly.
*   **Direct Ordering System**: Buyers can place orders for available products, with stock levels managed automatically.
*   **AI-Powered Farming Advisory**: Farmers can request farming advice based on crop type, soil type, and season. The backend calls the **Google Gemini API** to generate a practical, actionable suggestion.
*   **In-Memory Database**: Utilizes H2 in-memory database, pre-populated with sample data via `data.sql` for immediate demonstration.
*   **Session Management**: Secure user sessions to provide a personalized experience.

---

### Prerequisites

Before you begin, ensure you have the following installed on your system:

*   **Java Development Kit (JDK) 17** or newer.
*   **Apache Maven** 3.6 or newer.

---

### Configuration

#### Gemini API Key

To use the AI Advisory feature, you need a Google Gemini API key.

1.  Obtain your API key from [Google AI Studio](https://aistudio.google.com/app/apikey).
2.  Set it as an environment variable named `GEMINI_API_KEY`.

**On Linux/macOS:**
```bash
export GEMINI_API_KEY="YOUR_API_KEY_HERE"
```

**On Windows (Command Prompt):**
```cmd
set GEMINI_API_KEY="YOUR_API_KEY_HERE"
```

**On Windows (PowerShell):**
```powershell
$env:GEMINI_API_KEY="YOUR_API_KEY_HERE"
```
> **Note:** If the environment variable is not set, the advisory service will return a placeholder message.

---

### Build & Run

1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd krishi-connect-hub
    ```

2.  **Build and run the application using Maven:**
    ```bash
    mvn clean spring-boot:run
    ```

The application will start on port `8080`.

---

### Access URLs

Once the application is running, you can access it at the following URLs:

*   **Main Application:** [http://localhost:8080](http://localhost:8080)
*   **H2 Database Console:** [http://localhost:8080/h2-console](http://localhost:8080/h2-console)
    *   **JDBC URL:** `jdbc:h2:mem:krishiconnecthubdb`
    *   **User Name:** `sa`
    *   **Password:** (leave blank)

---

### Usage Example: AI Advisory

The primary way to interact with the advisory service is through the web interface after logging in as a farmer.

1.  Register or log in as a **FARMER**.
2.  Navigate to the **Dashboard**.
3.  Click on **"Get Farming Advisory"**.
4.  Fill in the form and submit it.

#### Screenshot of the Advisory Form:


#### Screenshot of the Advisory Result:


#### Example cURL for Gemini API Call (Conceptual)

While the application uses a secure, session-based controller, the underlying `POST` request made by the `AdvisoryServiceImpl` to the Google Gemini API looks like this. This demonstrates the core API interaction.

```bash
# This is a conceptual representation of the server-side call to Google's API.
# You do not run this command yourself.

curl https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=YOUR_GEMINI_API_KEY \
    -H 'Content-Type: application/json' \
    -d '{
      "contents": [{
        "parts":[{
          "text": "Provide practical, step-by-step farming advice for a farmer growing '\''Tomato'\'' in '\''Loamy'\'' soil during the '\''Summer'\'' season. Focus on actionable tips."
        }]
      }]
    }'
```
This README was generated by @Hamim3382 on 2025-07-24.